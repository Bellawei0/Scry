{"ast":null,"code":"var _jsxFileName = \"/Users/Scry172/Frontend/src/components/MainPage.jsx\";\nimport React from \"react\";\nimport DataItem from \"./DataItem\";\nimport Axios from \"axios\";\nimport AddProduct from \"./AddProduct\";\nimport Logout from \"./Logout\";\nimport Popup from \"./Popup\";\n\nclass MainPage extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      products: [],\n      currentUser: {\n        username: \"\"\n      }\n    };\n  }\n\n  componentDidMount() {\n    Axios.get(\"/api/products\").then(res => {\n      this.setState({\n        products: res.data.reverse()\n      });\n    });\n    setTimeout(() => {\n      Axios.get(\"/api/getcurrentuser\", {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      }).then(res => {\n        this.setState({\n          currentUser: res.data\n        });\n      });\n    }, 500);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w3-container w3-light-grey\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w3-container w3-jumbo\",\n      style: {\n        margin: \"3rem\",\n        paddingLeft: \"1rem\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 13\n      }\n    }, \"Products\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w3-container w3-jumbo\",\n      style: {\n        margin: \"3rem\",\n        paddingLeft: \"1rem\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"w3-button w3-blue w3-large\",\n      onClick: () => {\n        document.getElementById(\"addProduct\").style.display = \"block\";\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }\n    }, \"Add Product\")), /*#__PURE__*/React.createElement(AddProduct, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w3-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }\n    }, this.state.products.length === 0 ? /*#__PURE__*/React.createElement(\"p\", {\n      className: \"w3-xlarge w3-opacity\",\n      style: {\n        marginLeft: \"2rem\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 15\n      }\n    }, \"No Products, Create one\") : this.state.products.map((item, index) => {\n      return /*#__PURE__*/React.createElement(DataItem, {\n        id: item.id,\n        title: item.ProductName,\n        content: item.Description,\n        author: item.user.username,\n        isOwner: this.state.currentUser.username === item.user.username,\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 19\n        }\n      });\n    }))));\n  }\n\n}\n\nexport default MainPage;","map":{"version":3,"sources":["/Users/Scry172/Frontend/src/components/MainPage.jsx"],"names":["React","DataItem","Axios","AddProduct","Logout","Popup","MainPage","Component","state","products","currentUser","username","componentDidMount","get","then","res","setState","data","reverse","setTimeout","headers","Authorization","localStorage","getItem","render","margin","paddingLeft","document","getElementById","style","display","length","marginLeft","map","item","index","id","ProductName","Description","user"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport DataItem from \"./DataItem\";\nimport Axios from \"axios\";\nimport AddProduct from \"./AddProduct\";\nimport Logout from \"./Logout\";\nimport Popup from \"./Popup\";\n\nclass MainPage extends React.Component {\n  state = { products: [], currentUser: { username: \"\" } };\n  componentDidMount() {\n    Axios.get(\"/api/products\").then((res) => {\n      this.setState({ products: res.data.reverse() });\n    });\n    setTimeout(() => {\n      Axios.get(\"/api/getcurrentuser\", {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n      }).then((res) => {\n        this.setState({ currentUser: res.data });\n      });\n    }, 500);\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <div className=\"w3-container w3-light-grey\">\n          <div\n            className=\"w3-container w3-jumbo\"\n            style={{ margin: \"3rem\", paddingLeft: \"1rem\" }}\n          >\n            <h1>Products</h1>\n          </div>\n          <div\n            className=\"w3-container w3-jumbo\"\n            style={{ margin: \"3rem\", paddingLeft: \"1rem\" }}\n          >\n            <button\n              className=\"w3-button w3-blue w3-large\"\n              onClick={() => {\n                document.getElementById(\"addProduct\").style.display = \"block\";\n              }}\n            >\n              Add Product\n            </button>\n            {/* <button\n            className=\"w3-right w3-button w3-red w3-large w3-hover-pale-red w3-round-large\"\n            onClick={() => {\n              window.location = \"/logout\";\n            }}\n          >\n            Sign Out\n          </button> */}\n          </div>\n          <AddProduct />\n          <div className=\"w3-container\">\n            {this.state.products.length === 0 ? (\n              <p\n                className=\"w3-xlarge w3-opacity\"\n                style={{ marginLeft: \"2rem\" }}\n              >\n                No Products, Create one\n              </p>\n            ) : (\n              this.state.products.map((item, index) => {\n                return (\n                  <DataItem\n                    id={item.id}\n                    title={item.ProductName}\n                    content={item.Description}\n                    author={item.user.username}\n                    isOwner={\n                      this.state.currentUser.username === item.user.username\n                    }\n                    key={index}\n                  />\n                );\n              })\n            )}\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default MainPage;\n"]},"metadata":{},"sourceType":"module"}